<!DOCTYPE html>
<html>
<head>
  <title>Login - KrishiMitra</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
</head>
<body>
  <h2>Login</h2>
  <form id="loginForm">
    <input id="email" type="email" placeholder="Email" required/><br/><br/>
    <input id="password" type="password" placeholder="Password" required/><br/><br/>
    <button type="submit">Login</button>
  </form>
  <p>Don't have an account? <a href="register.html">Register here</a></p>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBlHh_EuUE_OeDx91qSpT5amC_soHpmMFw",
  authDomain: "krishimitra01-923cb.firebaseapp.com",
  databaseURL: "https://krishimitra01-923cb-default-rtdb.firebaseio.com",
  projectId: "krishimitra01-923cb",
  storageBucket: "krishimitra01-923cb.firebasestorage.app",
  messagingSenderId: "282806875059",
  appId: "1:282806875059:web:20b9e7a151e74f763b51c6"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

document.getElementById('loginForm').addEventListener('submit', e=>{
  e.preventDefault();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  auth.signInWithEmailAndPassword(email,password)
    .then(()=> window.location="dashboard.html")
    .catch(err=> alert(err.message));
});
</script>
</body>
</html>
